<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Career Command Center</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            bg:"#0b1220",
            panel:"#020617",
            accent:"#6366f1",
            muted:"#94a3b8",
            success:"#22c55e"
          }
        }
      }
    };
  </script>

  <style>
    .toast {
      animation: slideIn 0.3s ease, fadeOut 0.3s ease 2.4s forwards;
    }
    @keyframes slideIn {
      from { opacity:0; transform:translateY(10px); }
      to { opacity:1; transform:translateY(0); }
    }
    @keyframes fadeOut {
      to { opacity:0; }
    }
  </style>
</head>

<body class="bg-bg text-slate-200 min-h-screen flex justify-center">

<main class="w-full max-w-4xl p-6 space-y-10">

<header>
  <h1 class="text-3xl font-semibold">Career Command Center</h1>
  <p class="text-muted mt-1">Simple • Stable • Free placement tracking</p>
</header>

<!-- TOAST -->
<div id="toast"
  class="fixed bottom-6 right-6 bg-success text-white px-5 py-3 rounded-lg hidden toast">
  ✔ Saved successfully
</div>

<!-- APPLICATION FORM -->
<section class="bg-panel p-6 rounded-xl border border-slate-800">
  <h2 class="text-xl font-semibold mb-4">Add Application</h2>

  <form name="applications" method="POST" netlify
        onsubmit="handleAppSubmit(event)"
        class="space-y-4">

    <input type="hidden" name="form-name" value="applications">

    <input name="company" required placeholder="Company"
      class="w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded">

    <input name="role" required placeholder="Role"
      class="w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded">

    <select name="status"
      class="w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded">
      <option>Applied</option>
      <option>Interview</option>
      <option>Offer</option>
      <option>Rejected</option>
    </select>

    <input type="date" name="follow_up"
      class="w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded">

    <button id="appBtn"
      class="bg-accent px-5 py-2 rounded text-white flex items-center gap-2">
      <span id="appBtnText">Save</span>
      <span id="appLoader" class="hidden animate-spin">⏳</span>
    </button>
  </form>
</section>

<!-- APPLICATION LIST -->
<section class="bg-panel p-6 rounded-xl border border-slate-800">
  <h3 class="text-lg font-semibold mb-3">Applications</h3>
  <table class="w-full text-sm">
    <thead class="text-muted border-b border-slate-700">
      <tr>
        <th class="text-left py-2">Company</th>
        <th class="text-left py-2">Role</th>
        <th class="text-left py-2">Status</th>
      </tr>
    </thead>
    <tbody id="appList"></tbody>
  </table>
  <p id="appEmpty" class="text-muted text-sm mt-3">No applications added yet.</p>
</section>

<!-- NETWORK FORM -->
<section class="bg-panel p-6 rounded-xl border border-slate-800">
  <h2 class="text-xl font-semibold mb-4">Networking Tracker</h2>

  <form name="networking" method="POST" netlify
        onsubmit="handleNetSubmit(event)"
        class="space-y-4">

    <input type="hidden" name="form-name" value="networking">

    <input name="name" required placeholder="Name"
      class="w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded">

    <input name="company" placeholder="Company"
      class="w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded">

    <input name="role" placeholder="Role"
      class="w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded">

    <button id="netBtn"
      class="bg-accent px-5 py-2 rounded text-white flex items-center gap-2">
      <span id="netBtnText">Save</span>
      <span id="netLoader" class="hidden animate-spin">⏳</span>
    </button>
  </form>
</section>

<!-- NETWORK LIST -->
<section class="bg-panel p-6 rounded-xl border border-slate-800">
  <h3 class="text-lg font-semibold mb-3">Contacts</h3>
  <ul id="netList" class="space-y-2"></ul>
  <p id="netEmpty" class="text-muted text-sm mt-3">No contacts added yet.</p>
</section>

<footer class="text-center text-muted text-sm">
  Cloud storage: Netlify Forms • UI storage: Browser
</footer>

</main>

<script>
  const apps = JSON.parse(localStorage.getItem("apps") || "[]");
  const nets = JSON.parse(localStorage.getItem("nets") || "[]");

  function render() {
    appList.innerHTML = "";
    netList.innerHTML = "";

    appEmpty.style.display = apps.length ? "none" : "block";
    netEmpty.style.display = nets.length ? "none" : "block";

    apps.forEach(a => {
      appList.innerHTML += `
        <tr class="border-b border-slate-800">
          <td class="py-2">${a.company}</td>
          <td>${a.role}</td>
          <td>${a.status}</td>
        </tr>`;
    });

    nets.forEach(n => {
      netList.innerHTML += `
        <li class="bg-slate-900 px-4 py-2 rounded">
          <b>${n.name}</b> — ${n.company || "-"}
        </li>`;
    });
  }

  function toast() {
    toastEl = document.getElementById("toast");
    toastEl.classList.remove("hidden");
    setTimeout(() => toastEl.classList.add("hidden"), 3000);
  }

  function handleAppSubmit(e) {
    e.preventDefault();
    appBtn.disabled = true;
    appBtnText.textContent = "Saving...";
    appLoader.classList.remove("hidden");

    const data = Object.fromEntries(new FormData(e.target));
    apps.push(data);
    localStorage.setItem("apps", JSON.stringify(apps));

    fetch("/", { method:"POST", body:new FormData(e.target) })
      .then(() => {
        e.target.reset();
        render();
        toast();
      })
      .finally(() => {
        appBtn.disabled = false;
        appBtnText.textContent = "Save";
        appLoader.classList.add("hidden");
      });
  }

  function handleNetSubmit(e) {
    e.preventDefault();
    netBtn.disabled = true;
    netBtnText.textContent = "Saving...";
    netLoader.classList.remove("hidden");

    const data = Object.fromEntries(new FormData(e.target));
    nets.push(data);
    localStorage.setItem("nets", JSON.stringify(nets));

    fetch("/", { method:"POST", body:new FormData(e.target) })
      .then(() => {
        e.target.reset();
        render();
        toast();
      })
      .finally(() => {
        netBtn.disabled = false;
        netBtnText.textContent = "Save";
        netLoader.classList.add("hidden");
      });
  }

  render();
</script>

</body>
</html>




